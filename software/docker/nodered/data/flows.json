[
    {
        "id": "993296db21e0de95",
        "type": "tab",
        "label": "Allgemein",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "362a0b93abc679d8",
        "type": "tab",
        "label": "Einräumen",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "5f8b5286451f333f",
        "type": "tab",
        "label": "Details",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e93210c72506d388",
        "type": "tab",
        "label": "Heatmap",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d254a38df0715e26",
        "type": "junction",
        "z": "362a0b93abc679d8",
        "x": 360,
        "y": 140,
        "wires": [
            [
                "e545fc8c59bcfe48"
            ]
        ]
    },
    {
        "id": "d4570277bd2545ce",
        "type": "ui_tab",
        "name": "Home",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "249c7afb0df11d0e",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD.MM.YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "d4e8a1e8746ae8dc",
        "type": "ui_group",
        "name": "Standard",
        "tab": "d4570277bd2545ce",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "b1634a54dc9da698",
        "type": "mqtt-broker",
        "name": "",
        "broker": "192.168.10.10",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": "false",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closeRetain": "false",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willRetain": "false",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "63527e49cf671131",
        "type": "ui_group",
        "name": "Status",
        "tab": "d4570277bd2545ce",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "3d85fbc00304fe9b",
        "type": "ui_group",
        "name": "Licht",
        "tab": "d4570277bd2545ce",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "8ee2a8be9e79749a",
        "type": "ui_group",
        "name": "Setze Ladenstatus auf:",
        "tab": "564fb3f8a786add3",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "564fb3f8a786add3",
        "type": "ui_tab",
        "name": "Simulation",
        "icon": "dashboard",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "5a30b569fe0f7853",
        "type": "ui_group",
        "name": "Kartenleser",
        "tab": "564fb3f8a786add3",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "b5821319b49b5d68",
        "type": "ui_tab",
        "name": "Tracker",
        "icon": "dashboard",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "e7001e04ca82ff4e",
        "type": "ui_group",
        "name": "Diagramme",
        "tab": "b5821319b49b5d68",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "b78d5b1b155bfa94",
        "type": "ui_group",
        "name": "Heatmap",
        "tab": "b5821319b49b5d68",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "f92eb5dfeffee078",
        "type": "ui_tab",
        "name": "Einräumen",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "ce23d23a7801273d",
        "type": "ui_group",
        "name": "Waage",
        "tab": "f92eb5dfeffee078",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "6d381aa10c3661fa",
        "type": "Stackhero-MySQL-Server",
        "name": "",
        "host": "192.168.10.10",
        "port": "3306",
        "tls": false,
        "database": "zeitlos"
    },
    {
        "id": "f15585e8aad578ca",
        "type": "ui_group",
        "name": "Datenbank",
        "tab": "f92eb5dfeffee078",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e5e3c18954323c62",
        "type": "ui_group",
        "name": "Kalibration",
        "tab": "f92eb5dfeffee078",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "7ccee8fcdd4b3feb",
        "type": "ui_group",
        "name": "Debug",
        "tab": "d4570277bd2545ce",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "ef058d427c4383aa",
        "type": "ui_group",
        "name": "Debug",
        "tab": "b5821319b49b5d68",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "73e3bbce7808f2b5",
        "type": "ui_button",
        "z": "993296db21e0de95",
        "name": "",
        "group": "63527e49cf671131",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Laden eröffnen",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "0",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 120,
        "y": 60,
        "wires": [
            [
                "0965fa82d88ae84b"
            ]
        ]
    },
    {
        "id": "b98e300076a8ca73",
        "type": "ui_button",
        "z": "993296db21e0de95",
        "name": "",
        "group": "63527e49cf671131",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Laden schließen",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "10",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 120,
        "y": 100,
        "wires": [
            [
                "0965fa82d88ae84b"
            ]
        ]
    },
    {
        "id": "0965fa82d88ae84b",
        "type": "mqtt out",
        "z": "993296db21e0de95",
        "name": "",
        "topic": "homie/shop_controller/set_shop_status",
        "qos": "1",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "b1634a54dc9da698",
        "x": 520,
        "y": 60,
        "wires": []
    },
    {
        "id": "77f08a0af53fe6b7",
        "type": "mqtt in",
        "z": "993296db21e0de95",
        "name": "",
        "topic": "homie/shop_controller/shop_status",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 180,
        "y": 160,
        "wires": [
            [
                "2e15aad63a168040",
                "776a46bb5c6c43fc"
            ]
        ]
    },
    {
        "id": "2e15aad63a168040",
        "type": "ui_text",
        "z": "993296db21e0de95",
        "group": "63527e49cf671131",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Shop Status",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 550,
        "y": 160,
        "wires": []
    },
    {
        "id": "4722d91b217b3268",
        "type": "mqtt in",
        "z": "993296db21e0de95",
        "name": "",
        "topic": "homie/shop-fsr/1",
        "qos": "1",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 140,
        "y": 400,
        "wires": [
            [
                "4179c092ce1fb67c"
            ]
        ]
    },
    {
        "id": "6dbe60891a5ef50a",
        "type": "ui_text",
        "z": "993296db21e0de95",
        "group": "d4e8a1e8746ae8dc",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Türöffner",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 660,
        "y": 420,
        "wires": []
    },
    {
        "id": "4179c092ce1fb67c",
        "type": "switch",
        "z": "993296db21e0de95",
        "name": "",
        "property": "payload.v",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 310,
        "y": 400,
        "wires": [
            [
                "849173f9072c26bd"
            ],
            [
                "012509439bc7f684"
            ],
            [
                "c95461e4ea3f28c4"
            ]
        ]
    },
    {
        "id": "849173f9072c26bd",
        "type": "template",
        "z": "993296db21e0de95",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "ein",
        "output": "str",
        "x": 460,
        "y": 380,
        "wires": [
            [
                "6dbe60891a5ef50a"
            ]
        ]
    },
    {
        "id": "012509439bc7f684",
        "type": "template",
        "z": "993296db21e0de95",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "aus",
        "output": "str",
        "x": 460,
        "y": 420,
        "wires": [
            [
                "6dbe60891a5ef50a"
            ]
        ]
    },
    {
        "id": "c95461e4ea3f28c4",
        "type": "template",
        "z": "993296db21e0de95",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Fehler",
        "output": "str",
        "x": 460,
        "y": 460,
        "wires": [
            [
                "6dbe60891a5ef50a"
            ]
        ]
    },
    {
        "id": "40c6358bceea0193",
        "type": "mqtt out",
        "z": "993296db21e0de95",
        "name": "",
        "topic": "homie/fsr-control/innen/tuerschliesser/set",
        "qos": "1",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "b1634a54dc9da698",
        "x": 640,
        "y": 520,
        "wires": []
    },
    {
        "id": "1bc0b4e116469b5f",
        "type": "ui_button",
        "z": "993296db21e0de95",
        "name": "",
        "group": "d4e8a1e8746ae8dc",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Türöffner aktivieren",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "1",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 350,
        "y": 520,
        "wires": [
            [
                "40c6358bceea0193"
            ]
        ]
    },
    {
        "id": "680fdf797f869786",
        "type": "mqtt out",
        "z": "993296db21e0de95",
        "name": "",
        "topic": "homie/display-power-control-shop-door/power/set",
        "qos": "1",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "b1634a54dc9da698",
        "x": 870,
        "y": 620,
        "wires": []
    },
    {
        "id": "215101dbdf40aa12",
        "type": "ui_switch",
        "z": "993296db21e0de95",
        "name": "",
        "label": "Display Eingangstüre",
        "tooltip": "",
        "group": "d4e8a1e8746ae8dc",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 560,
        "y": 620,
        "wires": [
            [
                "680fdf797f869786"
            ]
        ]
    },
    {
        "id": "9d5bcd87b9d6fdc8",
        "type": "mqtt in",
        "z": "993296db21e0de95",
        "name": "",
        "topic": "homie/display-power-control-shop-door/power",
        "qos": "1",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 220,
        "y": 620,
        "wires": [
            [
                "215101dbdf40aa12"
            ]
        ]
    },
    {
        "id": "47d32df0dfaddfe0",
        "type": "ui_switch",
        "z": "993296db21e0de95",
        "name": "",
        "label": "Display Innen 01",
        "tooltip": "",
        "group": "d4e8a1e8746ae8dc",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 550,
        "y": 680,
        "wires": [
            [
                "97f65fc2169ec05b"
            ]
        ]
    },
    {
        "id": "36ec5b187c6db3c6",
        "type": "mqtt in",
        "z": "993296db21e0de95",
        "name": "",
        "topic": "homie/display-power-control-shop-display01/power",
        "qos": "1",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 230,
        "y": 680,
        "wires": [
            [
                "47d32df0dfaddfe0"
            ]
        ]
    },
    {
        "id": "97f65fc2169ec05b",
        "type": "mqtt out",
        "z": "993296db21e0de95",
        "name": "",
        "topic": "homie/display-power-control-shop-display01/power/set",
        "qos": "1",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "b1634a54dc9da698",
        "x": 890,
        "y": 680,
        "wires": []
    },
    {
        "id": "e7f1a7c36a6fa2e0",
        "type": "mqtt in",
        "z": "993296db21e0de95",
        "name": "",
        "topic": "homie/fsr-control/aussen/licht",
        "qos": "1",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 200,
        "y": 920,
        "wires": [
            [
                "5fb2b97c8ecd628d"
            ]
        ]
    },
    {
        "id": "1f9df93bd03a7e33",
        "type": "mqtt out",
        "z": "993296db21e0de95",
        "name": "",
        "topic": "homie/fsr-control/aussen/licht/set",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "b1634a54dc9da698",
        "x": 980,
        "y": 920,
        "wires": []
    },
    {
        "id": "94d5c655765bb089",
        "type": "ui_switch",
        "z": "993296db21e0de95",
        "name": "",
        "label": "Außenlicht",
        "tooltip": "",
        "group": "3d85fbc00304fe9b",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 730,
        "y": 920,
        "wires": [
            [
                "1f9df93bd03a7e33"
            ]
        ]
    },
    {
        "id": "5fb2b97c8ecd628d",
        "type": "change",
        "z": "993296db21e0de95",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 920,
        "wires": [
            [
                "94d5c655765bb089"
            ]
        ]
    },
    {
        "id": "318cb48b686a1f2c",
        "type": "mqtt in",
        "z": "993296db21e0de95",
        "name": "",
        "topic": "homie/fsr-control/innen/licht",
        "qos": "1",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 200,
        "y": 1000,
        "wires": [
            [
                "d6cf7ae16b4df07c"
            ]
        ]
    },
    {
        "id": "d6cf7ae16b4df07c",
        "type": "change",
        "z": "993296db21e0de95",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.v",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 1000,
        "wires": [
            [
                "bcf2aba9f23cf0bf"
            ]
        ]
    },
    {
        "id": "5a0bc138be9b63d3",
        "type": "mqtt out",
        "z": "993296db21e0de95",
        "name": "",
        "topic": "homie/fsr-control/innen/licht/set",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "b1634a54dc9da698",
        "x": 970,
        "y": 1000,
        "wires": []
    },
    {
        "id": "3bf9117ed008bd91",
        "type": "comment",
        "z": "993296db21e0de95",
        "name": "Licht",
        "info": "",
        "x": 90,
        "y": 820,
        "wires": []
    },
    {
        "id": "5718ba9130d9d400",
        "type": "inject",
        "z": "993296db21e0de95",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "30 19 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 710,
        "y": 860,
        "wires": [
            [
                "1f9df93bd03a7e33"
            ]
        ]
    },
    {
        "id": "ba23420a2cc458c8",
        "type": "inject",
        "z": "993296db21e0de95",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "00 22 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 710,
        "y": 820,
        "wires": [
            [
                "1f9df93bd03a7e33"
            ]
        ]
    },
    {
        "id": "776a46bb5c6c43fc",
        "type": "function",
        "z": "993296db21e0de95",
        "name": "ID -> Str",
        "func": "var shop_status_descr = {\n    0: \"Geräte Initialisierung\", \n    1: \"Bereit, Kein Kunde im Laden\", \n    2: \"Kunde authentifiziert/Waagen tara\",\n    3: \"Kunde betritt/verlässt gerade den Laden\", \n    4: \"Möglicherweise: Einkauf finalisiert & Kunde nicht mehr im Laden\",\n    5: \"Einkauf beendet und abgerechnet\", \n    6: \"ungenutzt\",\n    7: \"Warten auf: Vorbereitung für nächsten Kunden\", \n    8: \"Technischer Fehler aufgetreten\", \n    9: \"Kunde benötigt Hilfe\",\n    10: \"Laden geschlossen\", \n    11: \"Kunde möglicherweise im Laden\", \n    12: \"Kunde sicher im Laden\", \n    13: \"Fehler bei Authentifizierung\",\n    14: \"Bitte Laden betreten\", \n    15: \"Kunde nicht mehr im Laden. Abrechnung wird vorbereitet.\"\n};\n\nif (msg.payload in shop_status_descr) {\n    msg.payload = shop_status_descr[msg.payload];\n} else {\n    msg.payload = \"Invalid status\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 200,
        "wires": [
            [
                "982f959b98dd2657"
            ]
        ]
    },
    {
        "id": "982f959b98dd2657",
        "type": "ui_text",
        "z": "993296db21e0de95",
        "group": "63527e49cf671131",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Shop Status",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 550,
        "y": 200,
        "wires": []
    },
    {
        "id": "bcf2aba9f23cf0bf",
        "type": "ui_slider",
        "z": "993296db21e0de95",
        "name": "",
        "label": "Innenlicht",
        "tooltip": "",
        "group": "3d85fbc00304fe9b",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "end",
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "1",
        "step": "0.1",
        "className": "",
        "x": 720,
        "y": 1000,
        "wires": [
            [
                "5a0bc138be9b63d3"
            ]
        ]
    },
    {
        "id": "f46ac19866977dc8",
        "type": "mqtt in",
        "z": "993296db21e0de95",
        "name": "",
        "topic": "homie/display-power-control-shop-display02/power",
        "qos": "1",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 230,
        "y": 740,
        "wires": [
            [
                "467752a8ac18eab7"
            ]
        ]
    },
    {
        "id": "467752a8ac18eab7",
        "type": "ui_switch",
        "z": "993296db21e0de95",
        "name": "",
        "label": "Display Innen 02",
        "tooltip": "",
        "group": "d4e8a1e8746ae8dc",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 550,
        "y": 740,
        "wires": [
            [
                "b41ec1bb3e453f2d"
            ]
        ]
    },
    {
        "id": "b41ec1bb3e453f2d",
        "type": "mqtt out",
        "z": "993296db21e0de95",
        "name": "",
        "topic": "homie/display-power-control-shop-display02/power/set",
        "qos": "1",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "b1634a54dc9da698",
        "x": 890,
        "y": 740,
        "wires": []
    },
    {
        "id": "9007946d188665e6",
        "type": "mqtt in",
        "z": "993296db21e0de95",
        "name": "",
        "topic": "homie/door/Pin1",
        "qos": "1",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 140,
        "y": 1160,
        "wires": [
            [
                "a7b2040b51891b34"
            ]
        ]
    },
    {
        "id": "a7b2040b51891b34",
        "type": "switch",
        "z": "993296db21e0de95",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 290,
        "y": 1160,
        "wires": [
            [
                "89a9c8e2b6531e9e"
            ],
            [
                "a0ba1abf6334844c"
            ]
        ],
        "outputLabels": [
            "offen",
            "geschlossen"
        ]
    },
    {
        "id": "89a9c8e2b6531e9e",
        "type": "change",
        "z": "993296db21e0de95",
        "name": "offen",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "offen",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 1140,
        "wires": [
            [
                "60e62aad408dd534"
            ]
        ]
    },
    {
        "id": "a0ba1abf6334844c",
        "type": "change",
        "z": "993296db21e0de95",
        "name": "geschlossen",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "geschlossen",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 1180,
        "wires": [
            [
                "60e62aad408dd534"
            ]
        ]
    },
    {
        "id": "60e62aad408dd534",
        "type": "ui_text",
        "z": "993296db21e0de95",
        "group": "d4e8a1e8746ae8dc",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Eingangstüre",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 650,
        "y": 1160,
        "wires": []
    },
    {
        "id": "6af94e053cafcee6",
        "type": "mqtt in",
        "z": "993296db21e0de95",
        "name": "",
        "topic": "homie/shop_controller/shop_status_last_change_timestamp",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 260,
        "y": 240,
        "wires": [
            [
                "12431be325d71e1a"
            ]
        ]
    },
    {
        "id": "603e45b40c399cc8",
        "type": "ui_text",
        "z": "993296db21e0de95",
        "group": "63527e49cf671131",
        "order": 3,
        "width": "0",
        "height": "0",
        "name": "",
        "label": "Last status change",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 870,
        "y": 240,
        "wires": []
    },
    {
        "id": "12431be325d71e1a",
        "type": "function",
        "z": "993296db21e0de95",
        "name": "function 1",
        "func": "var options = {\n    hour: 'numeric',\n    minute: 'numeric',\n    second: 'numeric'\n};\nmsg.payload = (\n    (new Date(msg.payload*1000)).toLocaleDateString('de-DE', options)\n    );\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 240,
        "wires": [
            [
                "603e45b40c399cc8"
            ]
        ]
    },
    {
        "id": "f721e4608616bff3",
        "type": "ui_text",
        "z": "993296db21e0de95",
        "group": "63527e49cf671131",
        "order": 4,
        "width": "0",
        "height": "0",
        "name": "",
        "label": "Time",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 830,
        "y": 280,
        "wires": []
    },
    {
        "id": "7a8c10bbe26682ad",
        "type": "function",
        "z": "993296db21e0de95",
        "name": "function 2",
        "func": "var options = {\n    hour: 'numeric',\n    minute: 'numeric',\n    second: 'numeric'\n};\nmsg.payload = (\n    (new Date(msg.payload)).toLocaleDateString('de-DE', options)\n    );\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 280,
        "wires": [
            [
                "f721e4608616bff3"
            ]
        ]
    },
    {
        "id": "993c6c38560f0380",
        "type": "inject",
        "z": "993296db21e0de95",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 430,
        "y": 280,
        "wires": [
            [
                "7a8c10bbe26682ad"
            ]
        ]
    },
    {
        "id": "74eda7bd7c324529",
        "type": "mqtt in",
        "z": "362a0b93abc679d8",
        "name": "",
        "topic": "homie/+/scales/+/touched",
        "qos": "0",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 190,
        "y": 180,
        "wires": [
            [
                "d254a38df0715e26"
            ]
        ]
    },
    {
        "id": "f5aee131ef4e536c",
        "type": "inject",
        "z": "362a0b93abc679d8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "homie/scale-shop-shelf02-0-1.2-1.0/scales/493037B2110C/touched",
        "payload": "1",
        "payloadType": "str",
        "x": 150,
        "y": 120,
        "wires": [
            [
                "d254a38df0715e26"
            ]
        ]
    },
    {
        "id": "e545fc8c59bcfe48",
        "type": "function",
        "z": "362a0b93abc679d8",
        "name": "topic and message split",
        "func": "const inputString = msg.topic;\nconst parts = inputString.split('/'); // Split the string by \"/\"\n\nlet msg_USB_ID = { payload: parts[1]};\nlet msg_scales_ID = { payload: parts[3]};\nlet msg_m = {payload: msg.payload};\nreturn [msg_USB_ID, msg_scales_ID, msg_m];",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 140,
        "wires": [
            [
                "1e777df7393c8bc5",
                "861847d36ea6f486"
            ],
            [
                "e0f687fd0ce5fd77",
                "2e57c1df929c1bbe"
            ],
            []
        ]
    },
    {
        "id": "1e777df7393c8bc5",
        "type": "change",
        "z": "362a0b93abc679d8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "touched_USB_ID",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "e0f687fd0ce5fd77",
        "type": "change",
        "z": "362a0b93abc679d8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "touched_scale_ID",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "861847d36ea6f486",
        "type": "ui_text",
        "z": "362a0b93abc679d8",
        "group": "ce23d23a7801273d",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "USB-ID",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 780,
        "y": 120,
        "wires": []
    },
    {
        "id": "2e57c1df929c1bbe",
        "type": "ui_text",
        "z": "362a0b93abc679d8",
        "group": "ce23d23a7801273d",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Scale-ID",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 780,
        "y": 200,
        "wires": []
    },
    {
        "id": "e9ac0a72e96cc359",
        "type": "mqtt out",
        "z": "362a0b93abc679d8",
        "name": "",
        "topic": "homie/shop_controller/update_data_from_db",
        "qos": "2",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "b1634a54dc9da698",
        "x": 490,
        "y": 340,
        "wires": []
    },
    {
        "id": "a6f7fd9a85788871",
        "type": "ui_button",
        "z": "362a0b93abc679d8",
        "name": "",
        "group": "f15585e8aad578ca",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Datenbank erneut einlesen",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 160,
        "y": 340,
        "wires": [
            [
                "e9ac0a72e96cc359",
                "91ce8d56f0efe79a"
            ]
        ]
    },
    {
        "id": "56f9ab02abc20493",
        "type": "Stackhero-MySQL",
        "z": "362a0b93abc679d8",
        "server": "6d381aa10c3661fa",
        "name": "",
        "x": 490,
        "y": 400,
        "wires": [
            [
                "7520a8bc076209ed",
                "fcbe5d97ab20d7b4"
            ]
        ]
    },
    {
        "id": "fa660b60a9952301",
        "type": "inject",
        "z": "362a0b93abc679d8",
        "name": "",
        "props": [
            {
                "p": "topic",
                "v": "",
                "vt": "date"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 400,
        "wires": [
            [
                "91ce8d56f0efe79a"
            ]
        ]
    },
    {
        "id": "48679570cc6a02d4",
        "type": "ui_dropdown",
        "z": "362a0b93abc679d8",
        "name": "",
        "label": "",
        "tooltip": "",
        "place": "Select option",
        "group": "ce23d23a7801273d",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 1090,
        "y": 540,
        "wires": [
            [
                "bd49bcfa3cacf086"
            ]
        ]
    },
    {
        "id": "65e5ca2ed1ccdbbf",
        "type": "change",
        "z": "362a0b93abc679d8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 480,
        "wires": [
            [
                "48679570cc6a02d4"
            ]
        ]
    },
    {
        "id": "7520a8bc076209ed",
        "type": "function",
        "z": "362a0b93abc679d8",
        "name": "function 5",
        "func": "const products = msg.payload;\n\nconst productArray = products.map(product => ({ [product.ProductName+' ('+product.Lieferant+')']: product.ProductID }));\n\n\nmsg.payload = productArray;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 480,
        "wires": [
            [
                "65e5ca2ed1ccdbbf"
            ]
        ]
    },
    {
        "id": "d926ce94f3aa2534",
        "type": "Stackhero-MySQL",
        "z": "362a0b93abc679d8",
        "server": "6d381aa10c3661fa",
        "name": "",
        "x": 530,
        "y": 740,
        "wires": [
            [
                "abd2448a56fa8cc8",
                "7b1b855b4d17ce1c",
                "9846002c9322affe"
            ]
        ]
    },
    {
        "id": "6a9b0598029631a3",
        "type": "inject",
        "z": "362a0b93abc679d8",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "SELECT * FROM `Products_Scales` WHERE `ScaleID` LIKE :scaleid",
        "payload": "{\"scaleid\": \"49303779470B\"}",
        "payloadType": "json",
        "x": 390,
        "y": 700,
        "wires": [
            [
                "d926ce94f3aa2534",
                "63d68bbff85801c7"
            ]
        ]
    },
    {
        "id": "fcbe5d97ab20d7b4",
        "type": "function",
        "z": "362a0b93abc679d8",
        "name": "function 6",
        "func": "const products = msg.payload;\n\nconst productMap = products.reduce((acc, product) => {\n    acc[product.ProductID] = product.ProductName;\n    return acc;\n}, {});\n\nmsg.payload = productMap;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 400,
        "wires": [
            [
                "584a4e9b2a934894"
            ]
        ]
    },
    {
        "id": "584a4e9b2a934894",
        "type": "change",
        "z": "362a0b93abc679d8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "products",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "abd2448a56fa8cc8",
        "type": "change",
        "z": "362a0b93abc679d8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[0].ProductID",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 540,
        "wires": [
            [
                "48679570cc6a02d4"
            ]
        ]
    },
    {
        "id": "3fbdf9f34d05fe96",
        "type": "ui_button",
        "z": "362a0b93abc679d8",
        "name": "",
        "group": "ce23d23a7801273d",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Berührte Waage nachschlagen",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 170,
        "y": 740,
        "wires": [
            [
                "d3abe070e3f6e119"
            ]
        ]
    },
    {
        "id": "d3abe070e3f6e119",
        "type": "function",
        "z": "362a0b93abc679d8",
        "name": "function 7",
        "func": "msg.topic = \"SELECT * FROM`Products_Scales` WHERE `ScaleID` LIKE :scaleid\";\nmsg.payload = { \"scaleid\": flow.get('touched_scale_ID') };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 740,
        "wires": [
            [
                "d926ce94f3aa2534"
            ]
        ]
    },
    {
        "id": "2e608d7511c7db5d",
        "type": "comment",
        "z": "362a0b93abc679d8",
        "name": "Berührte Waage im Dropdown auswählen",
        "info": "",
        "x": 180,
        "y": 660,
        "wires": []
    },
    {
        "id": "7b1b855b4d17ce1c",
        "type": "ui_text",
        "z": "362a0b93abc679d8",
        "group": "ce23d23a7801273d",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Gedrückte ProduktID",
        "format": "{{msg.payload[0].ProductID}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 720,
        "y": 780,
        "wires": []
    },
    {
        "id": "a5c6ba909c178afb",
        "type": "ui_button",
        "z": "362a0b93abc679d8",
        "name": "",
        "group": "ce23d23a7801273d",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Produkt hier setzen",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 630,
        "y": 900,
        "wires": [
            [
                "36e2945b0ab0b035"
            ]
        ]
    },
    {
        "id": "bd49bcfa3cacf086",
        "type": "change",
        "z": "362a0b93abc679d8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "product_ID_selected",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1310,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "b7025ceefda7670b",
        "type": "comment",
        "z": "362a0b93abc679d8",
        "name": "DB auslesen",
        "info": "",
        "x": 90,
        "y": 300,
        "wires": []
    },
    {
        "id": "393569f329468b30",
        "type": "comment",
        "z": "362a0b93abc679d8",
        "name": "Schreibe Options Liste des Dropdown-Menüs",
        "info": "",
        "x": 910,
        "y": 440,
        "wires": []
    },
    {
        "id": "44f7f68e36b445ef",
        "type": "comment",
        "z": "362a0b93abc679d8",
        "name": "Wähle aus der Dropdown-Liste aus",
        "info": "",
        "x": 860,
        "y": 520,
        "wires": []
    },
    {
        "id": "e3005420cf7ee79b",
        "type": "function",
        "z": "362a0b93abc679d8",
        "name": "Lösche Waagen Zuordnung",
        "func": "msg.topic = \"DELETE FROM `Products_Scales` WHERE `ScaleID` LIKE :scaleid\";\nmsg.payload = { \"scaleid\": flow.get('touched_scale_ID') };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 940,
        "wires": [
            [
                "e6acb73fa6213876"
            ]
        ]
    },
    {
        "id": "e6acb73fa6213876",
        "type": "Stackhero-MySQL",
        "z": "362a0b93abc679d8",
        "server": "6d381aa10c3661fa",
        "name": "",
        "x": 1170,
        "y": 940,
        "wires": [
            [
                "dd41ad8e67fe25e7"
            ]
        ]
    },
    {
        "id": "e6e82c51daf8aee1",
        "type": "ui_button",
        "z": "362a0b93abc679d8",
        "name": "",
        "group": "ce23d23a7801273d",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Waagenzuordnung löschen",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 660,
        "y": 940,
        "wires": [
            [
                "e3005420cf7ee79b"
            ]
        ]
    },
    {
        "id": "dd41ad8e67fe25e7",
        "type": "debug",
        "z": "362a0b93abc679d8",
        "name": "debug 1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1340,
        "y": 940,
        "wires": []
    },
    {
        "id": "91ce8d56f0efe79a",
        "type": "change",
        "z": "362a0b93abc679d8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "SELECT * FROM Products",
                "tot": "str"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 400,
        "wires": [
            [
                "56f9ab02abc20493",
                "b4940b08fca90d5f"
            ]
        ]
    },
    {
        "id": "9846002c9322affe",
        "type": "debug",
        "z": "362a0b93abc679d8",
        "name": "debug 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 780,
        "y": 700,
        "wires": []
    },
    {
        "id": "63d68bbff85801c7",
        "type": "change",
        "z": "362a0b93abc679d8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "touched_scale_ID",
                "pt": "flow",
                "to": "49303779470B",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "36e2945b0ab0b035",
        "type": "function",
        "z": "362a0b93abc679d8",
        "name": "Eintragen Waagen Zuordnung",
        "func": "msg.topic = \"INSERT INTO`Products_Scales`(`ProductID`, `ScaleID`) VALUES(:productid, :scaleid )\";\nmsg.payload = { \"productid\": flow.get(\"product_ID_selected\"), \"scaleid\": flow.get('touched_scale_ID') };\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 900,
        "wires": [
            [
                "0341ea296ec75b84"
            ]
        ]
    },
    {
        "id": "0341ea296ec75b84",
        "type": "Stackhero-MySQL",
        "z": "362a0b93abc679d8",
        "server": "6d381aa10c3661fa",
        "name": "",
        "x": 1170,
        "y": 900,
        "wires": [
            [
                "5eefd9adaf6289ac"
            ]
        ]
    },
    {
        "id": "5eefd9adaf6289ac",
        "type": "debug",
        "z": "362a0b93abc679d8",
        "name": "debug 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1340,
        "y": 900,
        "wires": []
    },
    {
        "id": "b4940b08fca90d5f",
        "type": "debug",
        "z": "362a0b93abc679d8",
        "name": "debug 4",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 420,
        "y": 480,
        "wires": []
    },
    {
        "id": "1bc152e9cbd4a1e6",
        "type": "ui_button",
        "z": "362a0b93abc679d8",
        "name": "",
        "group": "e5e3c18954323c62",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Regal Tara Kalibration",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "touched_USB_ID",
        "payloadType": "flow",
        "topic": "topic",
        "topicType": "msg",
        "x": 220,
        "y": 1040,
        "wires": [
            [
                "31c3b0196ca4bc79"
            ]
        ]
    },
    {
        "id": "31c3b0196ca4bc79",
        "type": "function",
        "z": "362a0b93abc679d8",
        "name": "set_zero",
        "func": "msg.topic = 'homie/'+msg.payload+'/cmd/set_zero';\nmsg.payload = '0';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 1040,
        "wires": [
            [
                "f328194ff57d9fe1"
            ]
        ]
    },
    {
        "id": "f328194ff57d9fe1",
        "type": "mqtt out",
        "z": "362a0b93abc679d8",
        "name": "",
        "topic": "",
        "qos": "1",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "b1634a54dc9da698",
        "x": 570,
        "y": 1040,
        "wires": []
    },
    {
        "id": "9c7886e11b81f1d0",
        "type": "ui_slider",
        "z": "362a0b93abc679d8",
        "name": "",
        "label": "Masse in kg",
        "tooltip": "",
        "group": "e5e3c18954323c62",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "end",
        "topic": "topic",
        "topicType": "msg",
        "min": "0.1",
        "max": "2",
        "step": "0.05",
        "className": "",
        "x": 190,
        "y": 1080,
        "wires": [
            [
                "64d2e31cca80fe0b"
            ]
        ]
    },
    {
        "id": "c3e8c6bf8545722f",
        "type": "ui_button",
        "z": "362a0b93abc679d8",
        "name": "",
        "group": "e5e3c18954323c62",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Kalibration Steigung",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "temp_mass_for_calibration",
        "payloadType": "flow",
        "topic": "topic",
        "topicType": "msg",
        "x": 220,
        "y": 1120,
        "wires": [
            [
                "abbbb331bc9a7566"
            ]
        ]
    },
    {
        "id": "64d2e31cca80fe0b",
        "type": "change",
        "z": "362a0b93abc679d8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "temp_mass_for_calibration",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "abbbb331bc9a7566",
        "type": "function",
        "z": "362a0b93abc679d8",
        "name": "set_slope",
        "func": "msg.topic = 'homie/' + flow.get('touched_USB_ID') + '/cmd/scales/' + flow.get('touched_scale_ID')+'/set_slope'\nmsg.payload = msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 1120,
        "wires": [
            [
                "89d8fc9dba8241a4"
            ]
        ]
    },
    {
        "id": "89d8fc9dba8241a4",
        "type": "mqtt out",
        "z": "362a0b93abc679d8",
        "name": "",
        "topic": "",
        "qos": "1",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "b1634a54dc9da698",
        "x": 570,
        "y": 1120,
        "wires": []
    },
    {
        "id": "519cd62c198d88da",
        "type": "comment",
        "z": "362a0b93abc679d8",
        "name": "Kalibration",
        "info": "",
        "x": 100,
        "y": 1000,
        "wires": []
    },
    {
        "id": "8198ea1bf5fc4048",
        "type": "mqtt in",
        "z": "5f8b5286451f333f",
        "name": "",
        "topic": "homie/shop_controller/shop_status",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 200,
        "y": 80,
        "wires": [
            [
                "cd68a3106cc08ea0",
                "c85ee51012cc1078"
            ]
        ]
    },
    {
        "id": "cd68a3106cc08ea0",
        "type": "ui_text",
        "z": "5f8b5286451f333f",
        "group": "8ee2a8be9e79749a",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Shop Status",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 570,
        "y": 80,
        "wires": []
    },
    {
        "id": "c85ee51012cc1078",
        "type": "function",
        "z": "5f8b5286451f333f",
        "name": "ID -> Str",
        "func": "var shop_status_descr = {\n    0: \"Geräte Initialisierung\", \n    1: \"Bereit, Kein Kunde im Laden. Kartenterminal aktiv \", \n    2: \"Kunde authentifiziert/Waagen tara wird ausgeführt\",\n    3: \"Kunde betritt/verlässt gerade den Laden\", \n    4: \"Möglicherweise: Einkauf finalisiert & Kunde nicht mehr im Laden\",\n    5: \"Einkauf abgerechnet, Kassenbon-Anzeige\", \n    6: \"ungenutzt\",\n    7: \"Warten auf: Vorbereitung für nächsten Kunden. Kartenterminal bereit?\", \n    8: \"Technischer Fehler aufgetreten\", \n    9: \"Kunde benötigt Hilfe\",\n    10: \"Laden geschlossen\", \n    11: \"Kunde möglicherweise im Laden\", \n    12: \"Kunde sicher im Laden\", \n    13: \"Fehler bei Kartenterminal\",\n    14: \"Bitte Laden betreten\", \n    15: \"Sicher: Kunde nicht mehr im Laden.\\nKartenterminal: buchen!\",\n    16: \"Timeout Kartenterminal\",\n    17: \"Warten auf: Kartenterminal Buchung erfolgreich\"\n};\n\nif (msg.payload in shop_status_descr) {\n    msg.payload = shop_status_descr[msg.payload];\n} else {\n    msg.payload = \"Invalid status\";\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 120,
        "wires": [
            [
                "07ac77dc78ccf957"
            ]
        ]
    },
    {
        "id": "07ac77dc78ccf957",
        "type": "ui_text",
        "z": "5f8b5286451f333f",
        "group": "8ee2a8be9e79749a",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Shop Status",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 570,
        "y": 120,
        "wires": []
    },
    {
        "id": "910414beb817d5b9",
        "type": "mqtt out",
        "z": "5f8b5286451f333f",
        "name": "",
        "topic": "homie/shop_controller/set_shop_status",
        "qos": "1",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "b1634a54dc9da698",
        "x": 560,
        "y": 340,
        "wires": []
    },
    {
        "id": "6f2a0c8c48bf92ea",
        "type": "ui_button",
        "z": "5f8b5286451f333f",
        "name": "",
        "group": "8ee2a8be9e79749a",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Initialisieren (0)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "0",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 160,
        "y": 180,
        "wires": [
            [
                "910414beb817d5b9"
            ]
        ]
    },
    {
        "id": "c2d5685190609785",
        "type": "ui_button",
        "z": "5f8b5286451f333f",
        "name": "",
        "group": "8ee2a8be9e79749a",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "mögliches Einkaufsende (4)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "4",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 200,
        "y": 300,
        "wires": [
            [
                "910414beb817d5b9"
            ]
        ]
    },
    {
        "id": "86918bc4121f7f3c",
        "type": "mqtt in",
        "z": "5f8b5286451f333f",
        "name": "",
        "topic": "homie/cardreader/text",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 160,
        "y": 560,
        "wires": [
            [
                "611088300fe5ce2b"
            ]
        ]
    },
    {
        "id": "611088300fe5ce2b",
        "type": "ui_text",
        "z": "5f8b5286451f333f",
        "group": "5a30b569fe0f7853",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 450,
        "y": 560,
        "wires": []
    },
    {
        "id": "e81342e26aab34fb",
        "type": "ui_text",
        "z": "5f8b5286451f333f",
        "group": "5a30b569fe0f7853",
        "order": 3,
        "width": "6",
        "height": "6",
        "name": "",
        "label": "text block",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "",
        "x": 460,
        "y": 600,
        "wires": []
    },
    {
        "id": "771a0b28451ba0ec",
        "type": "mqtt in",
        "z": "5f8b5286451f333f",
        "name": "",
        "topic": "homie/cardreader/text_block",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 180,
        "y": 600,
        "wires": [
            [
                "e81342e26aab34fb"
            ]
        ]
    },
    {
        "id": "2afae3dc07fe5b56",
        "type": "ui_button",
        "z": "5f8b5286451f333f",
        "d": true,
        "name": "",
        "group": "5a30b569fe0f7853",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Erfolgreich Karte präsentiert",
        "tooltip": "preauth_res",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "{\"terminal-id\":60903182,\"amount\":5000,\"trace\":391,\"time\":121151,\"date\":520,\"exp-date\":2612,\"seq-no\":1,\"payment-type\":96,\"ef-id\":\"672590eeeeeeeee6783f\",\"receipt-no\":275,\"auth-id\":\"3836303231320000\",\"cc\":978,\"VU-number\":\"1882500001     \",\"card-name\":\"girocard\",\"card-type\":5,\"good-groups\":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,81,82,83,84,86,87,88,89,91,92,93,94,95,110,130,131,132,133,134,135,136,180,181,184,185,186,187,190],\"receipt-param\":1000000,\"return_code_completion\":0}",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "x": 180,
        "y": 740,
        "wires": [
            [
                "2728710e973298f3"
            ]
        ]
    },
    {
        "id": "2728710e973298f3",
        "type": "mqtt out",
        "z": "5f8b5286451f333f",
        "name": "",
        "topic": "homie/cardreader/preauth_res",
        "qos": "1",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "b1634a54dc9da698",
        "x": 510,
        "y": 740,
        "wires": []
    },
    {
        "id": "40c670a2e8ac89ab",
        "type": "mqtt in",
        "z": "5f8b5286451f333f",
        "name": "",
        "topic": "homie/cardreader/busy",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 160,
        "y": 660,
        "wires": [
            [
                "547ee312135e6571"
            ]
        ]
    },
    {
        "id": "547ee312135e6571",
        "type": "ui_text",
        "z": "5f8b5286451f333f",
        "group": "5a30b569fe0f7853",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "cardreader busy",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 480,
        "y": 660,
        "wires": []
    },
    {
        "id": "46831a1abc174874",
        "type": "ui_button",
        "z": "5f8b5286451f333f",
        "name": "",
        "group": "8ee2a8be9e79749a",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Laden schließen (10)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "10",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 180,
        "y": 420,
        "wires": [
            [
                "910414beb817d5b9"
            ]
        ]
    },
    {
        "id": "77fb58a3ca3084f7",
        "type": "ui_button",
        "z": "5f8b5286451f333f",
        "name": "",
        "group": "5a30b569fe0f7853",
        "order": 9,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "End of Day",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 170,
        "y": 880,
        "wires": [
            [
                "4a5e4cb3fb7ca564"
            ]
        ]
    },
    {
        "id": "4a5e4cb3fb7ca564",
        "type": "mqtt out",
        "z": "5f8b5286451f333f",
        "name": "",
        "topic": "homie/cardreader/cmd/end_of_day",
        "qos": "1",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "b1634a54dc9da698",
        "x": 560,
        "y": 880,
        "wires": []
    },
    {
        "id": "19acb0cfea736bc5",
        "type": "ui_button",
        "z": "5f8b5286451f333f",
        "d": true,
        "name": "",
        "group": "5a30b569fe0f7853",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "HTML Pages Reload",
        "tooltip": "preauth_res",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "reload",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 160,
        "y": 800,
        "wires": [
            [
                "b398a5c481257339"
            ]
        ]
    },
    {
        "id": "b398a5c481257339",
        "type": "mqtt out",
        "z": "5f8b5286451f333f",
        "name": "",
        "topic": "homie/shop_controller/triggerHTMLPagesReload",
        "qos": "1",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "b1634a54dc9da698",
        "x": 570,
        "y": 800,
        "wires": []
    },
    {
        "id": "453308a07b8fa760",
        "type": "ui_button",
        "z": "5f8b5286451f333f",
        "name": "",
        "group": "8ee2a8be9e79749a",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Setze Kassenbon Anzeige (5)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "5",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 200,
        "y": 380,
        "wires": [
            [
                "910414beb817d5b9"
            ]
        ]
    },
    {
        "id": "a219a0a170bb46cc",
        "type": "ui_button",
        "z": "5f8b5286451f333f",
        "name": "",
        "group": "8ee2a8be9e79749a",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Kunde auth. Waagentara! (2)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "2",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 200,
        "y": 220,
        "wires": [
            [
                "910414beb817d5b9"
            ]
        ]
    },
    {
        "id": "bca79e1a48231079",
        "type": "ui_button",
        "z": "5f8b5286451f333f",
        "name": "",
        "group": "8ee2a8be9e79749a",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Kunde sicher im Laden (12)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "12",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 200,
        "y": 260,
        "wires": [
            [
                "910414beb817d5b9"
            ]
        ]
    },
    {
        "id": "7502e3b5b7b9b282",
        "type": "ui_button",
        "z": "5f8b5286451f333f",
        "name": "",
        "group": "8ee2a8be9e79749a",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Kunde nicht mehr im Laden (15)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "15",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 210,
        "y": 340,
        "wires": [
            [
                "910414beb817d5b9"
            ]
        ]
    },
    {
        "id": "8826e20861470d4e",
        "type": "mqtt in",
        "z": "e93210c72506d388",
        "name": "",
        "topic": "homie/tracker-shop-track-0-1.1-1.0/tof/actreading",
        "qos": "0",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 270,
        "y": 100,
        "wires": [
            [
                "872d44e8e910d76e",
                "06f9fb5f163d7653"
            ]
        ]
    },
    {
        "id": "dcb1f1ff405c6724",
        "type": "ui_heat_map",
        "z": "e93210c72506d388",
        "group": "b78d5b1b155bfa94",
        "order": 2,
        "width": "6",
        "height": "6",
        "name": "",
        "rows": "4",
        "columns": "4",
        "minMax": true,
        "minimumValue": 0,
        "maximumValue": "2600",
        "backgroundType": "color",
        "backgroundColor": "#ffffff",
        "image": "never",
        "radius": "35",
        "opacity": 0.6,
        "blur": "0.6",
        "showValues": false,
        "gridType": "vals",
        "valuesDecimals": "0",
        "showLegend": false,
        "legendType": "vals",
        "legendDecimals": 0,
        "legendCount": 2,
        "x": 620,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "872d44e8e910d76e",
        "type": "change",
        "z": "e93210c72506d388",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "s1",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "506dee9e605204d5",
        "type": "change",
        "z": "e93210c72506d388",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "s2",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "646f53b72f458004",
        "type": "mqtt in",
        "z": "e93210c72506d388",
        "name": "",
        "topic": "homie/tracker-shop-track-0-1.2-1.0/tof/actreading",
        "qos": "0",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 270,
        "y": 140,
        "wires": [
            [
                "506dee9e605204d5",
                "72cb77049897d914"
            ]
        ]
    },
    {
        "id": "0e73d01858270354",
        "type": "change",
        "z": "e93210c72506d388",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "s3",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "eddc427b34f55c52",
        "type": "mqtt in",
        "z": "e93210c72506d388",
        "name": "",
        "topic": "homie/tracker-shop-track-0-1.3-1.0/tof/actreading",
        "qos": "0",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 270,
        "y": 180,
        "wires": [
            [
                "0e73d01858270354",
                "71681780fe3656cf"
            ]
        ]
    },
    {
        "id": "f1fc667d555cd9a6",
        "type": "change",
        "z": "e93210c72506d388",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "s4",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "b7c67ebbfd9a2de6",
        "type": "mqtt in",
        "z": "e93210c72506d388",
        "name": "",
        "topic": "homie/tracker-shop-track-0-1.4-1.0/tof/actreading",
        "qos": "0",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 270,
        "y": 220,
        "wires": [
            [
                "f1fc667d555cd9a6",
                "9a92aab51c6f7540"
            ]
        ]
    },
    {
        "id": "0e416d5fe00f6a22",
        "type": "function",
        "z": "e93210c72506d388",
        "name": "function 3",
        "func": "var s1 = flow.get(\"s1\");\nvar s2 = flow.get(\"s2\");\nvar s3 = flow.get(\"s3\");\nvar s4 = flow.get(\"s4\");\n\n\nmsg.payload = [s1[4], s1[5], s1[6], s1[7],\n    s2[0], s2[1], s2[2], s2[3],\n    s3[0], s3[1], s3[2], s3[3],\n    s4[4], s4[5], s4[6], s4[7]\n    ];\n\nvar h = [\n    0, 0, 0, 0,\n    0, 0, 0, 0,\n    0, 0, 0, 0,\n    0, 0, 0, 0]\n\n/*\n0 4  8 12\n1 5  9 13\n2 6 10 14\n3 7 11 15\n*/\n\nh[0] = s3[2]; h[4] = s3[3];    h[8] = s4[4]; h[12] = s4[5]; \nh[1] = s3[1]; h[5] = s3[0];    h[9] = s4[7]; h[13] = s4[6];   \n\nh[2] = s2[2]; h[6] = s2[3];    h[10] = s1[7]; h[14] = s1[6]; \nh[3] = s2[1]; h[7] = s2[0];    h[11] = s1[4]; h[15] = s1[5]; \n\nmsg.payload = h;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 320,
        "wires": [
            [
                "dcb1f1ff405c6724"
            ]
        ]
    },
    {
        "id": "809529cdf75ba9c1",
        "type": "inject",
        "z": "e93210c72506d388",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 290,
        "y": 320,
        "wires": [
            [
                "0e416d5fe00f6a22"
            ]
        ]
    },
    {
        "id": "044f616ae9517401",
        "type": "comment",
        "z": "e93210c72506d388",
        "name": "hints",
        "info": "https://flows.nodered.org/node/node-red-contrib-ui-heatmap/in/590bc13ff3a5f005c7d2189bbb563976",
        "x": 750,
        "y": 320,
        "wires": []
    },
    {
        "id": "7e22ee6ca54d8e3b",
        "type": "ui_chart",
        "z": "e93210c72506d388",
        "name": "",
        "group": "e7001e04ca82ff4e",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "Sensor 0-1.1",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "100",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 950,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "06f9fb5f163d7653",
        "type": "function",
        "z": "e93210c72506d388",
        "name": "prepare",
        "func": "for (let i=0; i<8; i++) {\n    if (msg.payload[i] != null) {\n        let msg0 = { topic: i.toString(), payload: msg.payload[i] };\n        node.send(msg0);\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 80,
        "wires": [
            [
                "7e22ee6ca54d8e3b"
            ]
        ]
    },
    {
        "id": "18611bc6f6647bee",
        "type": "ui_chart",
        "z": "e93210c72506d388",
        "name": "",
        "group": "e7001e04ca82ff4e",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Sensor 0-1.2",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "100",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 950,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "2530b909cff3b2ca",
        "type": "ui_chart",
        "z": "e93210c72506d388",
        "name": "",
        "group": "e7001e04ca82ff4e",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "Sensor 0-1.3",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "100",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 950,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "754bb9952ab45451",
        "type": "ui_chart",
        "z": "e93210c72506d388",
        "name": "",
        "group": "e7001e04ca82ff4e",
        "order": 4,
        "width": 0,
        "height": 0,
        "label": "Sensor 0-1.4",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "100",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 950,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "07459f0f3299cfe0",
        "type": "ui_button",
        "z": "e93210c72506d388",
        "name": "",
        "group": "e7001e04ca82ff4e",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "[]",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "x": 550,
        "y": 400,
        "wires": [
            [
                "7e22ee6ca54d8e3b",
                "18611bc6f6647bee",
                "2530b909cff3b2ca",
                "754bb9952ab45451"
            ]
        ]
    },
    {
        "id": "72cb77049897d914",
        "type": "function",
        "z": "e93210c72506d388",
        "name": "prepare",
        "func": "for (let i=0; i<8; i++) {\n    if (msg.payload[i] != null) {\n        let msg0 = { topic: i.toString(), payload: msg.payload[i] };\n        node.send(msg0);\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 120,
        "wires": [
            [
                "18611bc6f6647bee"
            ]
        ]
    },
    {
        "id": "71681780fe3656cf",
        "type": "function",
        "z": "e93210c72506d388",
        "name": "prepare",
        "func": "for (let i=0; i<8; i++) {\n    if (msg.payload[i] != null) {\n        let msg0 = { topic: i.toString(), payload: msg.payload[i] };\n        node.send(msg0);\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 160,
        "wires": [
            [
                "2530b909cff3b2ca"
            ]
        ]
    },
    {
        "id": "9a92aab51c6f7540",
        "type": "function",
        "z": "e93210c72506d388",
        "name": "prepare",
        "func": "for (let i=0; i<8; i++) {\n    if (msg.payload[i] != null) {\n        let msg0 = { topic: i.toString(), payload: msg.payload[i] };\n        node.send(msg0);\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 200,
        "wires": [
            [
                "754bb9952ab45451"
            ]
        ]
    },
    {
        "id": "5df02e7ac639a2b9",
        "type": "mqtt in",
        "z": "e93210c72506d388",
        "name": "",
        "topic": "homie/shop-track-collector/pixels-above-reference",
        "qos": "0",
        "datatype": "auto-detect",
        "broker": "b1634a54dc9da698",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 290,
        "y": 540,
        "wires": [
            [
                "539b94f78325eb77",
                "6793ea60baabdb97"
            ]
        ]
    },
    {
        "id": "539b94f78325eb77",
        "type": "ui_text",
        "z": "e93210c72506d388",
        "group": "7ccee8fcdd4b3feb",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "pixels-above-reference",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 650,
        "y": 540,
        "wires": []
    },
    {
        "id": "6793ea60baabdb97",
        "type": "ui_text",
        "z": "e93210c72506d388",
        "group": "b78d5b1b155bfa94",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "pixels-above-reference",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 650,
        "y": 580,
        "wires": []
    },
    {
        "id": "ba3b8330f2fd7b4d",
        "type": "ui_button",
        "z": "e93210c72506d388",
        "name": "",
        "group": "ef058d427c4383aa",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Neue Referenz setzen",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 220,
        "y": 660,
        "wires": [
            [
                "197bc7357c79fcc7"
            ]
        ]
    },
    {
        "id": "197bc7357c79fcc7",
        "type": "mqtt out",
        "z": "e93210c72506d388",
        "name": "",
        "topic": "homie/shop-track-collector/reference/set",
        "qos": "1",
        "retain": "false",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "b1634a54dc9da698",
        "x": 520,
        "y": 660,
        "wires": []
    }
]